# 异常处理

```go
package main

import (
	"errors"
	"os"
)

func main() {
	// _是匿名变量
	/*
	  1. 操作模式：os.O_RDONLY(只读)、os.O_WRONLY(只写)、os.O_RDWR(读写)、os.O_APPEND(追加)、os.O_CREATE(不存在时创建)、os.O_TRUNC(打开时截断)
	  2. 权限：0(无权限)、1(执行)、2(写)、3(写+执行)、4(读)、5(读+执行)、6(读写)、7(全权限)
	*/
	file, err := os.OpenFile("./demo.txt", os.O_RDONLY, 6)
	if err != nil {
		err := errors.New("Err")
		// 报告致命错误
		panic(err)
	}

	// 延迟运行，执行顺序从下至上
	defer func() {
		// 拦截错误，防止崩溃
		recover()

		file.Close()
	}()
}

```
